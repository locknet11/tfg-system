<p-dialog
  [header]="'Agent Setup'"
  i18n-header
  [visible]="visible()"
  (visibleChange)="visible.set($event)"
  [modal]="true"
  [draggable]="false"
  [style]="{ width: '40vw' }"
  [dismissableMask]="true">
  <div class="flex flex-column gap-4">
    <div>
      <p class="text-900 font-medium mb-3" i18n>
        Target created successfully! Follow these steps to configure the agent:
      </p>
      <ol class="pl-4">
        <li class="mb-2" i18n>
          Run the following command on your target system:
        </li>
      </ol>
    </div>

    <div class="field">
      <label class="font-medium text-900 mb-2 block" i18n>Agent URL</label>
      <div class="p-inputgroup">
        <input
          type="text"
          pInputText
          [value]="agentUrl()"
          readonly
          class="w-full" />
        <button
          pButton
          type="button"
          icon="pi pi-copy"
          (click)="copyToClipboard(agentUrl())"
          class="p-button-secondary"></button>
      </div>
    </div>

    <div class="field">
      <label class="font-medium text-900 mb-2 block" i18n
        >Installation Command</label
      >
      <div class="p-inputgroup">
        <input
          type="text"
          pInputText
          [value]="curlCommand()"
          readonly
          class="w-full font-mono" />
        <button
          pButton
          type="button"
          icon="pi pi-copy"
          (click)="copyToClipboard(curlCommand())"
          class="p-button-secondary"></button>
      </div>
    </div>

    <div class="bg-gray-600 border-round p-3">
      <p class="text-sm text-700 m-0" i18n>
        <strong>Note:</strong> The agent will automatically connect to the
        platform once the script is executed. Make sure the target system has
        internet access and the necessary permissions to run the installation
        script.
      </p>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <button
      pButton
      label="Close"
      i18n-label
      icon="pi pi-check"
      (click)="hide()"
      class="p-button-primary"></button>
  </ng-template>
</p-dialog>
